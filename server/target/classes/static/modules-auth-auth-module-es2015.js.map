{"version":3,"sources":["./src/app/modules/auth/login/login.component.html","./src/app/modules/auth/auth.module.ts","./src/app/modules/auth/login/login.component.scss","./src/app/modules/auth/login/login.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,+5C;;;;;;;;;;;;;;;;;;;;;;;ACA0B;AACM;AACU;AACF;AACa;AACF;AACV;AAExD,MAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,qEAAc,EAAE;CACxC,CAAC;AAcF,IAAa,UAAU,GAAvB,MAAa,UAAU;CAAI;AAAd,UAAU;IAZtB,8DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,qEAAc,CAAC;QAC9B,OAAO,EAAE;YACP,4DAAY;YACZ,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7B,+EAAc;YACd,0DAAW;YACX,kEAAmB;YACnB,qEAAgB;SACjB;QACD,SAAS,EAAE,EAAE;KACd,CAAC;GACW,UAAU,CAAI;AAAJ;;;;;;;;;;;;;ACxBvB;AAAe,wEAAS,iBAAiB,GAAG,cAAc,qBAAqB,qBAAqB,oBAAoB,GAAG,cAAc,oBAAoB,qBAAqB,GAAG,6CAA6C,u7B;;;;;;;;;;;;;;;;;;;;;ACA7J;AACxB;AACU;AAEd;AACO;AAQhD,IAAa,cAAc,GAA3B,MAAa,cAAc;IAMzB,YACU,WAAwB,EACxB,MAAc,EACd,QAAqB;QAFrB,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,aAAQ,GAAR,QAAQ,CAAa;QAP/B,UAAK,GAAG,IAAI,0DAAW,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAClC,aAAQ,GAAG,IAAI,0DAAW,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IAOjC,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,WAAW;QACT,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,sBAAsB,EAAE,CAAC;QAC3D,IAAI,QAAQ,EAAE;YACZ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;SAC5C;IACH,CAAC;IAEK,KAAK;;YAET,MAAM,SAAS,GAAe;gBAC5B,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK;gBACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK;aAC9B,CAAC;YAEF,IAAI,CAAC,SAAS,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;gBAC3C,OAAO;aACR;YAED,IAAI;gBACF,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE,CAAC;gBACjE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACxC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBAC3C,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC;aACpC;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACrB,IAAI,CAAC,YAAY,GAAG,sBAAsB,CAAC;gBAC3C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;aAC1E;QACH,CAAC;KAAA;CAEF;;YAvCwB,kEAAW;YAChB,sDAAM;YACJ,6DAAW;;AATpB,cAAc;IAN1B,+DAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,gOAAqC;QAErC,aAAa,EAAE,+DAAiB,CAAC,IAAI;;KACtC,CAAC;GACW,cAAc,CA8C1B;AA9C0B","file":"modules-auth-auth-module-es2015.js","sourcesContent":["export default \"<div class=\\\"d-flex justify-content-center align-items-start h-100 bg-gold-gradient mt-5\\\">\\n    <div class=\\\"text-center w-25 d-flex justify-content-end align-items-center p-5\\\">\\n        <div class=\\\"mat-elevation-z1 w-100 p-5 bg-gold-gradient\\\">\\n            <h2 class=\\\"font-300\\\">Sign In</h2>\\n            <hr>\\n            <br>\\n            <br>\\n            <form>\\n                <p>\\n                    <mat-form-field class=\\\"w-100\\\">\\n                        <mat-label>Email</mat-label>\\n                        <input matInput placeholder=\\\"Enter your email\\\" [formControl]=\\\"email\\\">\\n                        <mat-error *ngIf=\\\"email.invalid\\\">Email is required.</mat-error>\\n                    </mat-form-field>\\n                </p>\\n                <p>\\n                    <mat-form-field class=\\\"w-100\\\">\\n                        <input matInput placeholder=\\\"Enter your password\\\" [formControl]=\\\"password\\\">\\n                        <mat-error *ngIf=\\\"password.invalid\\\">Password is required.</mat-error>\\n                    </mat-form-field>\\n                </p>\\n                <div class=\\\"text-right\\\">\\n                    <button class=\\\"w-100 bg-grey font-white\\\" type=\\\"submit\\\" mat-raised-button\\n                        (click)=\\\"login()\\\">Login</button>\\n                </div>\\n            </form>\\n        </div>\\n    </div>\\n\\n</div>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LoginComponent } from './login/login.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MaterialModule } from '../shared/material/material.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\n\nconst routes: Routes = [\n  { path: '', component: LoginComponent }\n];\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    MaterialModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule\n  ],\n  providers: []\n})\nexport class AuthModule { }\n","export default \".error {\\n  height: 50px;\\n}\\n\\n.xl-icon {\\n  font-size: 10rem;\\n  font-weight: 300;\\n  color: darkcyan;\\n}\\n\\n.xl-font {\\n  font-size: 4rem;\\n  font-weight: 300;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FkbWlucGMvc2Nob29sL215c2Nob29sL2FkbWluLXVpL3NyYy9hcHAvbW9kdWxlcy9hdXRoL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL2F1dGgvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2F1dGgvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZXJyb3J7XG4gICAgaGVpZ2h0OiA1MHB4O1xufVxuXG4ueGwtaWNvbntcbiAgICBmb250LXNpemU6IDEwcmVtO1xuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgY29sb3I6IGRhcmtjeWFuO1xufVxuXG4ueGwtZm9udHtcbiAgICBmb250LXNpemU6IDRyZW07XG4gICAgZm9udC13ZWlnaHQ6IDMwMDtcbn0iLCIuZXJyb3Ige1xuICBoZWlnaHQ6IDUwcHg7XG59XG5cbi54bC1pY29uIHtcbiAgZm9udC1zaXplOiAxMHJlbTtcbiAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgY29sb3I6IGRhcmtjeWFuO1xufVxuXG4ueGwtZm9udCB7XG4gIGZvbnQtc2l6ZTogNHJlbTtcbiAgZm9udC13ZWlnaHQ6IDMwMDtcbn0iXX0= */\"","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { AuthService } from '../services/auth.service';\nimport { ILoginData } from '../model/auth.model';\nimport { Router } from '@angular/router';\nimport { MatSnackBar } from '@angular/material';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class LoginComponent implements OnInit {\n\n  email = new FormControl('', null);\n  password = new FormControl('', null);\n  errorMessage: string;\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private snackBar: MatSnackBar,\n  ) { }\n\n  ngOnInit() {\n    this.getUserData();\n  }\n\n  getUserData() {\n    const userData = this.authService.getAuthDataFromCookies();\n    if (userData) {\n      this.router.navigate(['/admin/dashboard']);\n    }\n  }\n\n  async login() {\n\n    const loginData: ILoginData = {\n      email: this.email.value,\n      password: this.password.value\n    };\n\n    if (!loginData.email || !loginData.password) {\n      return;\n    }\n\n    try {\n      const resp = await this.authService.login(loginData).toPromise();\n      this.authService.storeToken(resp.token);\n      this.router.navigate(['/admin/dashboard']);\n      this.authService.sendLoginSignal();\n    } catch (error) {\n      console.error(error);\n      this.errorMessage = 'Invalid credential !';\n      this.snackBar.open('Invalid credential.', 'Got it!', { duration: 5000 });\n    }\n  }\n\n}\n"],"sourceRoot":"webpack:///"}